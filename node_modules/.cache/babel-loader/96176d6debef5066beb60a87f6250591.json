{"ast":null,"code":"/*!\n * Tobi - Cookie\n * Copyright(c) 2010 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar url = require('url');\n\n/**\n * Initialize a new `Cookie` with the given cookie `str` and `req`.\n *\n * @param {String} str\n * @param {IncomingRequest} req\n * @api private\n */\n\nvar Cookie = exports = module.exports = function Cookie(str, req) {\n  this.str = str;\n\n  // Map the key/val pairs\n  str.split(/ *; */).reduce(function (obj, pair) {\n    var p = pair.indexOf('=');\n    var key = p > 0 ? pair.substring(0, p).trim() : pair.trim();\n    var lowerCasedKey = key.toLowerCase();\n    var value = p > 0 ? pair.substring(p + 1).trim() : true;\n    if (!obj.name) {\n      // First key is the name\n      obj.name = key;\n      obj.value = value;\n    } else if (lowerCasedKey === 'httponly') {\n      obj.httpOnly = value;\n    } else {\n      obj[lowerCasedKey] = value;\n    }\n    return obj;\n  }, this);\n\n  // Expires\n  this.expires = this.expires ? new Date(this.expires) : Infinity;\n\n  // Default or trim path\n  this.path = this.path ? this.path.trim() : req ? url.parse(req.url).pathname : '/';\n};\n\n/**\n * Return the original cookie string.\n *\n * @return {String}\n * @api public\n */\n\nCookie.prototype.toString = function () {\n  return this.str;\n};\nmodule.exports.Jar = require('./jar');","map":{"version":3,"names":["url","require","Cookie","exports","module","str","req","split","reduce","obj","pair","p","indexOf","key","substring","trim","lowerCasedKey","toLowerCase","value","name","httpOnly","expires","Date","Infinity","path","parse","pathname","prototype","toString","Jar"],"sources":["/Users/jaraga/CodeOp/perthesclinica/node_modules/cookie-jar/index.js"],"sourcesContent":["/*!\n * Tobi - Cookie\n * Copyright(c) 2010 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar url = require('url');\n\n/**\n * Initialize a new `Cookie` with the given cookie `str` and `req`.\n *\n * @param {String} str\n * @param {IncomingRequest} req\n * @api private\n */\n\nvar Cookie = exports = module.exports = function Cookie(str, req) {\n  this.str = str;\n\n  // Map the key/val pairs\n  str.split(/ *; */).reduce(function(obj, pair){\n   var p = pair.indexOf('=');\n   var key = p > 0 ? pair.substring(0, p).trim() : pair.trim();\n   var lowerCasedKey = key.toLowerCase();\n   var value = p > 0 ? pair.substring(p + 1).trim() : true;\n\n   if (!obj.name) {\n    // First key is the name\n    obj.name = key;\n    obj.value = value;\n   }\n   else if (lowerCasedKey === 'httponly') {\n    obj.httpOnly = value;\n   }\n   else {\n    obj[lowerCasedKey] = value;\n   }\n   return obj;\n  }, this);\n\n  // Expires\n  this.expires = this.expires\n    ? new Date(this.expires)\n    : Infinity;\n\n  // Default or trim path\n  this.path = this.path\n    ? this.path.trim(): req \n    ? url.parse(req.url).pathname: '/';\n};\n\n/**\n * Return the original cookie string.\n *\n * @return {String}\n * @api public\n */\n\nCookie.prototype.toString = function(){\n  return this.str;\n};\n\nmodule.exports.Jar = require('./jar')"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,MAAM,GAAGC,OAAO,GAAGC,MAAM,CAACD,OAAO,GAAG,SAASD,MAAM,CAACG,GAAG,EAAEC,GAAG,EAAE;EAChE,IAAI,CAACD,GAAG,GAAGA,GAAG;;EAEd;EACAA,GAAG,CAACE,KAAK,CAAC,OAAO,CAAC,CAACC,MAAM,CAAC,UAASC,GAAG,EAAEC,IAAI,EAAC;IAC5C,IAAIC,CAAC,GAAGD,IAAI,CAACE,OAAO,CAAC,GAAG,CAAC;IACzB,IAAIC,GAAG,GAAGF,CAAC,GAAG,CAAC,GAAGD,IAAI,CAACI,SAAS,CAAC,CAAC,EAAEH,CAAC,CAAC,CAACI,IAAI,EAAE,GAAGL,IAAI,CAACK,IAAI,EAAE;IAC3D,IAAIC,aAAa,GAAGH,GAAG,CAACI,WAAW,EAAE;IACrC,IAAIC,KAAK,GAAGP,CAAC,GAAG,CAAC,GAAGD,IAAI,CAACI,SAAS,CAACH,CAAC,GAAG,CAAC,CAAC,CAACI,IAAI,EAAE,GAAG,IAAI;IAEvD,IAAI,CAACN,GAAG,CAACU,IAAI,EAAE;MACd;MACAV,GAAG,CAACU,IAAI,GAAGN,GAAG;MACdJ,GAAG,CAACS,KAAK,GAAGA,KAAK;IAClB,CAAC,MACI,IAAIF,aAAa,KAAK,UAAU,EAAE;MACtCP,GAAG,CAACW,QAAQ,GAAGF,KAAK;IACrB,CAAC,MACI;MACJT,GAAG,CAACO,aAAa,CAAC,GAAGE,KAAK;IAC3B;IACA,OAAOT,GAAG;EACX,CAAC,EAAE,IAAI,CAAC;;EAER;EACA,IAAI,CAACY,OAAO,GAAG,IAAI,CAACA,OAAO,GACvB,IAAIC,IAAI,CAAC,IAAI,CAACD,OAAO,CAAC,GACtBE,QAAQ;;EAEZ;EACA,IAAI,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI,GACjB,IAAI,CAACA,IAAI,CAACT,IAAI,EAAE,GAAET,GAAG,GACrBN,GAAG,CAACyB,KAAK,CAACnB,GAAG,CAACN,GAAG,CAAC,CAAC0B,QAAQ,GAAE,GAAG;AACtC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEAxB,MAAM,CAACyB,SAAS,CAACC,QAAQ,GAAG,YAAU;EACpC,OAAO,IAAI,CAACvB,GAAG;AACjB,CAAC;AAEDD,MAAM,CAACD,OAAO,CAAC0B,GAAG,GAAG5B,OAAO,CAAC,OAAO,CAAC"},"metadata":{},"sourceType":"script"}