{"ast":null,"code":"// Copyright 2010-2012 Mikeal Rogers\n//\n//    Licensed under the Apache License, Version 2.0 (the \"License\");\n//    you may not use this file except in compliance with the License.\n//    You may obtain a copy of the License at\n//\n//        http://www.apache.org/licenses/LICENSE-2.0\n//\n//    Unless required by applicable law or agreed to in writing, software\n//    distributed under the License is distributed on an \"AS IS\" BASIS,\n//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//    See the License for the specific language governing permissions and\n//    limitations under the License.\n\nvar Cookie = require('cookie-jar'),\n  CookieJar = Cookie.Jar,\n  cookieJar = new CookieJar(),\n  copy = require('./lib/copy'),\n  Request = require('./request');\n\n// organize params for patch, post, put, head, del\nfunction initParams(uri, options, callback) {\n  if (typeof options === 'function' && !callback) callback = options;\n  if (options && typeof options === 'object') {\n    options.uri = uri;\n  } else if (typeof uri === 'string') {\n    options = {\n      uri: uri\n    };\n  } else {\n    options = uri;\n    uri = options.uri;\n  }\n  return {\n    uri: uri,\n    options: options,\n    callback: callback\n  };\n}\nfunction request(uri, options, callback) {\n  if (typeof uri === 'undefined') throw new Error('undefined is not a valid uri or options object.');\n  if (typeof options === 'function' && !callback) callback = options;\n  if (options && typeof options === 'object') {\n    options.uri = uri;\n  } else if (typeof uri === 'string') {\n    options = {\n      uri: uri\n    };\n  } else {\n    options = uri;\n  }\n  options = copy(options);\n  if (callback) options.callback = callback;\n  var r = new Request(options);\n  return r;\n}\nmodule.exports = request;\nrequest.Request = Request;\nrequest.debug = process.env.NODE_DEBUG && /request/.test(process.env.NODE_DEBUG);\nrequest.initParams = initParams;\nrequest.defaults = function (options, requester) {\n  var def = function (method) {\n    var d = function (uri, opts, callback) {\n      var params = initParams(uri, opts, callback);\n      for (var i in options) {\n        if (params.options[i] === undefined) params.options[i] = options[i];\n      }\n      if (typeof requester === 'function') {\n        if (method === request) {\n          method = requester;\n        } else {\n          params.options._requester = requester;\n        }\n      }\n      return method(params.options, params.callback);\n    };\n    return d;\n  };\n  var de = def(request);\n  de.get = def(request.get);\n  de.patch = def(request.patch);\n  de.post = def(request.post);\n  de.put = def(request.put);\n  de.head = def(request.head);\n  de.del = def(request.del);\n  de.cookie = def(request.cookie);\n  de.jar = request.jar;\n  return de;\n};\nrequest.forever = function (agentOptions, optionsArg) {\n  var options = {};\n  if (optionsArg) {\n    for (option in optionsArg) {\n      options[option] = optionsArg[option];\n    }\n  }\n  if (agentOptions) options.agentOptions = agentOptions;\n  options.forever = true;\n  return request.defaults(options);\n};\nrequest.get = request;\nrequest.post = function (uri, options, callback) {\n  var params = initParams(uri, options, callback);\n  params.options.method = 'POST';\n  return request(params.uri || null, params.options, params.callback);\n};\nrequest.put = function (uri, options, callback) {\n  var params = initParams(uri, options, callback);\n  params.options.method = 'PUT';\n  return request(params.uri || null, params.options, params.callback);\n};\nrequest.patch = function (uri, options, callback) {\n  var params = initParams(uri, options, callback);\n  params.options.method = 'PATCH';\n  return request(params.uri || null, params.options, params.callback);\n};\nrequest.head = function (uri, options, callback) {\n  var params = initParams(uri, options, callback);\n  params.options.method = 'HEAD';\n  if (params.options.body || params.options.requestBodyStream || params.options.json && typeof params.options.json !== 'boolean' || params.options.multipart) {\n    throw new Error(\"HTTP HEAD requests MUST NOT include a request body.\");\n  }\n  return request(params.uri || null, params.options, params.callback);\n};\nrequest.del = function (uri, options, callback) {\n  var params = initParams(uri, options, callback);\n  params.options.method = 'DELETE';\n  if (typeof params.options._requester === 'function') {\n    request = params.options._requester;\n  }\n  return request(params.uri || null, params.options, params.callback);\n};\nrequest.jar = function () {\n  return new CookieJar();\n};\nrequest.cookie = function (str) {\n  if (str && str.uri) str = str.uri;\n  if (typeof str !== 'string') throw new Error(\"The cookie function only accepts STRING as param\");\n  return new Cookie(str);\n};","map":{"version":3,"names":["Cookie","require","CookieJar","Jar","cookieJar","copy","Request","initParams","uri","options","callback","request","Error","r","module","exports","debug","process","env","NODE_DEBUG","test","defaults","requester","def","method","d","opts","params","i","undefined","_requester","de","get","patch","post","put","head","del","cookie","jar","forever","agentOptions","optionsArg","option","body","requestBodyStream","json","multipart","str"],"sources":["/Users/jaraga/CodeOp/perthesclinica/node_modules/request/index.js"],"sourcesContent":["// Copyright 2010-2012 Mikeal Rogers\n//\n//    Licensed under the Apache License, Version 2.0 (the \"License\");\n//    you may not use this file except in compliance with the License.\n//    You may obtain a copy of the License at\n//\n//        http://www.apache.org/licenses/LICENSE-2.0\n//\n//    Unless required by applicable law or agreed to in writing, software\n//    distributed under the License is distributed on an \"AS IS\" BASIS,\n//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//    See the License for the specific language governing permissions and\n//    limitations under the License.\n\nvar Cookie = require('cookie-jar')\n  , CookieJar = Cookie.Jar\n  , cookieJar = new CookieJar\n\n  , copy = require('./lib/copy')\n  , Request = require('./request')\n  ;\n\n\n\n// organize params for patch, post, put, head, del\nfunction initParams(uri, options, callback) {\n  if ((typeof options === 'function') && !callback) callback = options\n  if (options && typeof options === 'object') {\n    options.uri = uri\n  } else if (typeof uri === 'string') {\n    options = {uri:uri}\n  } else {\n    options = uri\n    uri = options.uri\n  }\n  return { uri: uri, options: options, callback: callback }\n}\n\nfunction request (uri, options, callback) {\n  if (typeof uri === 'undefined') throw new Error('undefined is not a valid uri or options object.')\n  if ((typeof options === 'function') && !callback) callback = options\n  if (options && typeof options === 'object') {\n    options.uri = uri\n  } else if (typeof uri === 'string') {\n    options = {uri:uri}\n  } else {\n    options = uri\n  }\n\n  options = copy(options)\n\n  if (callback) options.callback = callback\n  var r = new Request(options)\n  return r\n}\n\nmodule.exports = request\n\nrequest.Request = Request;\n\nrequest.debug = process.env.NODE_DEBUG && /request/.test(process.env.NODE_DEBUG)\n\nrequest.initParams = initParams\n\nrequest.defaults = function (options, requester) {\n  var def = function (method) {\n    var d = function (uri, opts, callback) {\n      var params = initParams(uri, opts, callback)\n      for (var i in options) {\n        if (params.options[i] === undefined) params.options[i] = options[i]\n      }\n      if(typeof requester === 'function') {\n        if(method === request) {\n          method = requester\n        } else {\n          params.options._requester = requester\n        }\n      }\n      return method(params.options, params.callback)\n    }\n    return d\n  }\n  var de = def(request)\n  de.get = def(request.get)\n  de.patch = def(request.patch)\n  de.post = def(request.post)\n  de.put = def(request.put)\n  de.head = def(request.head)\n  de.del = def(request.del)\n  de.cookie = def(request.cookie)\n  de.jar = request.jar\n  return de\n}\n\nrequest.forever = function (agentOptions, optionsArg) {\n  var options = {}\n  if (optionsArg) {\n    for (option in optionsArg) {\n      options[option] = optionsArg[option]\n    }\n  }\n  if (agentOptions) options.agentOptions = agentOptions\n  options.forever = true\n  return request.defaults(options)\n}\n\nrequest.get = request\nrequest.post = function (uri, options, callback) {\n  var params = initParams(uri, options, callback)\n  params.options.method = 'POST'\n  return request(params.uri || null, params.options, params.callback)\n}\nrequest.put = function (uri, options, callback) {\n  var params = initParams(uri, options, callback)\n  params.options.method = 'PUT'\n  return request(params.uri || null, params.options, params.callback)\n}\nrequest.patch = function (uri, options, callback) {\n  var params = initParams(uri, options, callback)\n  params.options.method = 'PATCH'\n  return request(params.uri || null, params.options, params.callback)\n}\nrequest.head = function (uri, options, callback) {\n  var params = initParams(uri, options, callback)\n  params.options.method = 'HEAD'\n  if (params.options.body ||\n      params.options.requestBodyStream ||\n      (params.options.json && typeof params.options.json !== 'boolean') ||\n      params.options.multipart) {\n    throw new Error(\"HTTP HEAD requests MUST NOT include a request body.\")\n  }\n  return request(params.uri || null, params.options, params.callback)\n}\nrequest.del = function (uri, options, callback) {\n  var params = initParams(uri, options, callback)\n  params.options.method = 'DELETE'\n  if(typeof params.options._requester === 'function') {\n    request = params.options._requester\n  }\n  return request(params.uri || null, params.options, params.callback)\n}\nrequest.jar = function () {\n  return new CookieJar\n}\nrequest.cookie = function (str) {\n  if (str && str.uri) str = str.uri\n  if (typeof str !== 'string') throw new Error(\"The cookie function only accepts STRING as param\")\n  return new Cookie(str)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}